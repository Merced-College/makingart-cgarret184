<!DOCTYPE html>
<html>
<body>
<canvas id='c' width='800' height='600'></canvas>
<script>
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');
const img = ctx.createImageData(800, 600);
let data = img.data;

let palette = [
  {r: 54, g: 243, b: 100},
  {r: 250, g: 70, b: 100},
  {r: 90, g: 10, b: 92},
  {r: 10, g: 100, b: 150},
  {r: 5, g: 25, b: 205}
];

let idx = 0;
for (let y = 0; y < 600; y++) {
  for (let x = 0; x < 800; x++) {
    let zx = 0, zy = 0;
    let cX = (x - 400) / 150;
    let cY = (y - 300) / 150;
    let iter = 300;
    while (zx*zx + zy*zy < 4 && iter > 0) {
      let tmp = zx*zx - zy*zy + cX;
      zy = 2*zx*zy + cY;
      zx = tmp;
      iter--;
    }
    let index = iter % 5;
    let color = palette[index];
    data[idx++] = color.r;
    data[idx++] = color.g;
    data[idx++] = color.b;
    data[idx++] = 255;
  }
}

ctx.putImageData(img, 0, 0);
</script>
</body>
</html>
